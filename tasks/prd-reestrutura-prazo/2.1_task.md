# 2.1_task - Atualizar processosService (Criação e Consulta)

## Objetivo
- Adaptar o serviço de processos para a nova estrutura de prazos, removendo a dependência de publicações fictícias.

## Escopo / Entregáveis
- Alterações nos métodos `criarPrazoManual` e `obterProcessoCompleto` em `src/services/processosService.js`.

## Passos e subtarefas
- [ ] 2.1.1: Refatorar `criarPrazoManual`: Remover lógica que criava uma `Publicacao` temporária. Inserir diretamente na tabela `Prazo` usando `processoid` e `status_id`.
- [ ] 2.1.2: Refatorar `obterProcessoCompleto`: Ajustar a query do Supabase para buscar prazos na raiz do objeto do processo (vínculo direto).
- [ ] 2.1.3: Garantir que o `status_id` padrão ('pendente') seja atribuído na criação.

## Dependências
- [x] Task 1.2 (Estrutura de banco pronta).

## Paralelizável?
- Sim, com outras tarefas de backend (2.2, 2.3, 2.4).

## Critérios de aceite
- Criação de prazo manual funcionando sem gerar registros na tabela de publicações.
- Consulta de processo retornando todos os prazos (manuais e automáticos) corretamente.

## Testes
- Teste unitário para `criarPrazoManual` validando os campos inseridos.
- Teste de integração chamando `obterProcessoCompleto` e verificando a estrutura do JSON de retorno.

## Notas
- Atenção ao mapeamento de campos no retorno do Supabase para não quebrar o frontend.

# 3.0 - Endpoints da API

## Objetivo
- Disponibilizar endpoints para que o frontend possa consultar sugestões e persistir as decisões tomadas pelo usuário.

## Escopo / Entregáveis
- `src/routes/eventoProvidenciaRoute.js`
- `src/controllers/eventoProvidenciaController.js`

## Passos e subtarefas
- 3.1 Criar endpoint `GET /api/analise/sugestao/:idItem` integrando com o motor de regras.
- 3.2 Criar endpoint `POST /api/analise/confirmar` para salvar a decisão final.
- 3.3 Implementar validação de esquema de entrada (payload) para o POST.
- 3.4 Garantir que o middleware de autenticação e tenant esteja ativo.

## Dependências
- 2.0 (Motor de Regras) para execução da lógica.

## Paralelizável?
- Sim, após a definição das interfaces de serviço no 2.0.

## Critérios de aceite
- Endpoint GET retorna status 200 com o JSON de sugestões.
- Endpoint POST salva os dados e retorna confirmação.
- Erros de banco ou validação retornam códigos HTTP apropriados (400, 404, 500).

## Testes
- Testes de integração via Postman/Insomnia ou ferramentas de teste automatizado.
- Validar se o `tenant_id` está sendo respeitado no salvamento.

## Notas
- O endpoint de confirmação deve ser atômico (salvar auditoria e atualizar status da publicação).
